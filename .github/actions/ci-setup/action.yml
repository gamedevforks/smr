name: CI Setup
description: Reusable action for common setup between CI jobs

on:
  workflow_call:

runs:
  using: composite
  steps:
    - name: Set up Docker buildx
      uses: docker/setup-buildx-action@v2

    - name: Download image
      uses: actions/download-artifact@v3
      with:
        name: build-image
        path: /tmp

    - name: Load image
      shell: bash
      run: |
        docker load --input /tmp/build-image.tar
